<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/main.js"></script>
</head>
<body>
    <div class="gridContainer">
        <div id="sideBar" class="sideBar"></div>
        <div class="bodyContent">
            <!-- <div class="sectionDisplay alert alert-success alert-dismissible">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
            </div> -->
            <div class="sectionDisplay alert alert-success">
                <p><b>Before update task to exec, you need to:</b></p>
                <ol class="updateLog">
                    <li>Make sure the function is working</li>
                    <li>Make sure listing's data fullfiled what exec requested</li>
                    <li>Make sure all error message displayed</li>
                    <li>Make sure all conditional statement working well
                        <ul>
                            <li>eg. if backend returned data then display, if not don't display it or display "no result found"</li>
                        </ul>
                    </li>
                    <li>Make sure language is plugged in</li>
                </ol>

                <p><b>2022/02/07 Updated: </b></p>
                <ol class="updateLog">
                    <li>Build table method 2 (build table with sub table)</li>
                    <li>Add windows setup instructions</li>
                    <li>Get SSH Key Instruction</li>
                </ol>
            </div>
            <div class="sectionDisplay" id="callBackend">
                <h4>Call backend</h4>
                <p>Method 1</p>
                <p>Use this method in all page except login.php</p>
                <div class="codeBlock">
<code>var url             = 'scripts/reqDefault.php';</code>
<code>var method          = 'POST';</code>
<code>var debug           = 0;</code>
<code>var bypassBlocking  = 0;</code>
<code>var bypassLoading   = 0;</code>
<code>var formData  = {</code>
<code>    command    : <span contenteditable="true">command1</span>, //api command name</code>
<code>    <span contenteditable="true">username</span>: <span contenteditable="true">username</span> //params that required to pass to backend</code>
<code>};</code>
<code>var fCallback = loadDefaultListing;</code>
<code>ajaxSend(url, formData, method, fCallback, debug, bypassBlocking, bypassLoading, 0); // Call backend using this function</code>
<br>
<code>function loadDefaultListing(data, message) {} // when function run successfully, will run this function (fCallback function)</code>
                </div>
                <p class="mt-3">Method 2</p>
                <p>If method 1 not working, can try this method to call backend</p>
                <div class="codeBlock">
<code>$.ajax({</code>
<code>    type     : 'POST', // define the type of HTTP verb we want to use (POST for our form)</code>
<code>    url      : 'scripts/reqLogin.php', // the url where we want to POST</code>
<code>    data     : formData, // our data object</code>
<code>    dataType : 'text', // what type of data do we expect back from the server</code>
<code>    encode   : true</code>
<code>}).done(function(data) {</code>
<code>    var obj = JSON.parse(data); // the data that returns from backend</code>
<code>});</code>
                </div>
            </div>
            <div class="sectionDisplay" id="tableFunction">
                <h4>Table Function</h4>
                <p>Method 1</p>
                <p>Use this method to build standard table</p>
                <div class="codeBlock">
<code>var divId    = '<span contenteditable="true">portfolioDiv</span>';</code>
<code>var tableId  = '<span contenteditable="true">portfolioTable</span>';</code>
<code>var pagerId  = '<span contenteditable="true">pagerList</span>';</code>
<code>var btnArray = {};</code>
<br>
<code>var thArray  = Array(</code>
<code>	"<span contenteditable="true">Created At</span>",</code>
<code>	"<span contenteditable="true">Username</span>"</code>
<code>);</code>
<br>
<code>var newList = [];</code>
<code>var arr = data['<span contenteditable="true">listing</span>'];</code>
<code>if(arr) {</code>
<code>	$.each(arr, function(k, v){</code>
<code>		var rebuildData = {</code>
<code>			<span contenteditable="true">username</span>: <span contenteditable="true">v['username']</span></code>
<code>		}</code>
<code>		newList.push(rebuildData);</code>
<code>	});</code>
<code>	buildTable(newList, tableId, divId, thArray, btnArray, message, tableNo);</code>
<code>	pagination(pagerId, data.pageNumber, data.totalPage, data.totalRecord, data.numRecord);</code>
<code>}</code>
                </div>
                <p class="mt-3">Method 2</p>
                <p>Use this method to build table with sub table</p>
                <p>Before document ready</p>
                <div class="codeBlock">
<code>var thArray  = Array(</code>
<code>    "<span contenteditable="true">Distribution Date</span>",</code>
<code>    "<span contenteditable="true">Amount</span>",</code>
<code>    "<span contenteditable="true">Created By</span>"</code>
<code>);</code>
<br>
<code>// sub table header</code>
<code>var subThArray  = Array(</code>
<code>    "<span contenteditable="true">Distribution Date</span>",</code>
<code>    "<span contenteditable="true">Amount</span>",</code>
<code>    "<span contenteditable="true">Created By</span>"</code>
<code>);</code>
<br>
<code>// sub table data key and type</code>
<code>var subTableKey = Array(</code>
<code>    {key: "<span contenteditable="true">active_date</span>", type: "text"},</code>
<code>    {key: "<span contenteditable="true">amount</span>", type: "number"}, // type number will float right</code>
<code>    {key: "<span contenteditable="true">created_by</span>", type: "text"}</code>
<code>);</code>
                </div>
                <p>In loadDefaultListing</p>
                <div class="codeBlock">
<code>var tableNo;</code>
<code>var list = data.<span contenteditable="true">bankAccList</span>;</code>

<code>if (list) {</code>
<code>    var newData = [];</code>

<code>    $.each(list, function (k, v) {</code>

<code>        var rebuild = {</code>
<code>            <span contenteditable="true">active_date</span>: v['<span contenteditable="true">active_date</span>'],</code>
<code>            subTableData: v['<span contenteditable="true">log</span>']  //sub table data</code>
<code>        };</code>

<code>        newData.push(rebuild);</code>
<code>    });</code>
<code>}</code>

<code>buildTableWithSubTable(newData, tableId, divId, thArray, subThArray, subTableKey, message, tableNo);</code>
<code>pagination(pagerId, data.pageNumber, data.totalPage, data.totalRecord, data.numRecord);</code>
                </div>
            </div>
            <div class="sectionDisplay" id="loginSession">
                <h4>Set Session after Login (Login API)</h4>
                <p>Set session from login api</p>
                <p>In File: reqLogin.php, API: memberLogin, add a line for session</p>
                <div class="codeBlock">
<code>$_SESSION["<span contenteditable="true">countryList</span>"] = $result['data']['<span contenteditable="true">countryList</span>'];</code>
<code>$_SESSION["<span contenteditable="true">username</span>"] = $result['data']['<span contenteditable="true">username</span>'];</code>
                </div>
                <p class="nextMethod">To loop array from php session array</p>
                <div class="codeBlock">
<code>&lt;?php foreach($_SESSION["<span contenteditable="true">countryList</span>"] as $value){ ?&gt;</code>
<code>    &lt;option value="&lt;?php echo $value['<span contenteditable="true">id</span>']; ?&gt;"&gt;&lt;?php echo $value['<span contenteditable="true">display</span>']; ?&gt;&lt;/option&gt;</code>
<code>&lt;?php } ?&gt;</code>
                </div>
                <p class="nextMethod">To display session data</p>
                <div class="codeBlock">
<code>&lt;?php echo $_SESSION['<span contenteditable="true">username</span>']; ?&gt;</code>
                </div>
            </div>
            <div class="sectionDisplay" id="jsSession">
                <h4>JS Session</h4>
                <p>To set JS session</p>
                <p class="red">** If need to set session for object / array, should convert it to String first.</p>
                <div class="codeBlock">
<code>sessionStorage.setItem("<span contenteditable="true">name</span>", "<span contenteditable="true">content</span>");</code>
                </div>
                <p class="nextMethod">To get JS session</p>
                <div class="codeBlock">
<code>var getSession = sessionStorage.getItem("<span contenteditable="true">name</span>");</code>
                </div>
                <p class="nextMethod">To convert object / array to String</p>
                <div class="codeBlock">
<code>var str = JSON.stringify(<span contenteditable="true">obj</span>);</code>
                </div>
                <p class="nextMethod">To convert back String to object / array</p>
                <div class="codeBlock">
<code>var obj = JSON.parse(<span contenteditable="true">str</span>);</code>
                </div>
            </div>
            <div class="sectionDisplay" id="doSpaces">
                <h4>Upload / Download Media to / from Digital Ocean</h4>
                <p>Needed Files</p>
                <ul>
                    <li>doSpaces Folder</li>
                    <li>scripts/reqUploadCDN.php</li>
                    <li>scripts/reqDownloadCDN.php</li>
                </ul>
                <p>To upload media</p>
                <p>You will need to build an object array like this</p>
                <div class="codeBlock">
<code>reqData: {</code>
<code>    english: {</code>
<code>        imgName: "img123.png",</code>
<code>        imgData: BASE64 Data</code>
<code>    },</code>
<code>    chineseSimplified: {</code>
<code>        imgName: "img456.png",</code>
<code>        imgData: BASE64 Data</code>
<code>    }</code>
<code>}</code>
                </div>
                <p class="nextMethod">When upload image success, you will get new image name (which is the image url from digital ocean) from backend, use the below code to upload the image to Digital Ocean.</p>
                <div class="codeBlock">
<code>function submitCallback(data, message) {</code>
<code>    if(data){</code>
<code>        $('#modalProcessing').modal('show'); // show image upload in progress modal</code>
<code>        $.each(data, function (lang, val) {</code>
<code>            var reqData2 = new FormData();</code>
<br>
<code>            if(val['<span contenteditable="true">imgName</span>']){</code>
<code>                var imagefiles = reqData<span contenteditable="true">[lang]['imgData']</span>;</code>
<code>                var block = imagefiles.split(";");</code>
<br>
<code>                // Get the content type of the image</code>
<code>                var contentType = block[0].split(":")[1];</code>
<br>
<code>                // get the real base64 content of the file</code>
<code>                var realData = block[1].split(",")[1];</code>
<br>
<code>                // // Convert it to a blob to upload</code>
<code>                var blob = b64toBlob(realData, contentType);</code>
<br>
<code>                reqData2.append('imageData', blob);</code>
<code>                reqData2.append('image', val['imgName']);</code>
<code>            }</code>
<br>
<code>            $.ajax({</code>
<code>                url: 'scripts/reqUploadCDN.php',</code>
<code>                type: 'post',</code>
<code>                data: reqData2,</code>
<code>                contentType: false,</code>
<code>                processData: false,</code>
<code>                async: false,</code>
<code>                success: function(data){</code>
<code>                    // success upload image</code>
<code>                },</code>
<code>            });</code>
<code>        });</code>
<br>
<code>        $('#modalProcessing').modal('hide'); // show image upload in progress modal</code>
<br>
<code>        <span contenteditable="true">uploadVideoSuccess</span>(); // success function</code>
<code>    }</code>
<code>}</code>
<br>
<code>function b64toBlob(b64Data, contentType, sliceSize) {</code>
<code>    contentType = contentType || '';</code>
<code>    sliceSize = sliceSize || 512;</code>
<br>
<code>    var byteCharacters = atob(b64Data);</code>
<code>    var byteArrays = [];</code>
<br>
<code>    for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {</code>
<code>        var slice = byteCharacters.slice(offset, offset + sliceSize);</code>
<br>
<code>        var byteNumbers = new Array(slice.length);</code>
<code>        for (var i = 0; i < slice.length; i++) {</code>
<code>            byteNumbers[i] = slice.charCodeAt(i);</code>
<code>        }</code>
<br>
<code>        var byteArray = new Uint8Array(byteNumbers);</code>
<br>
<code>        byteArrays.push(byteArray);</code>
<code>    }</code>
<br>
<code>  var blob = new Blob(byteArrays, {type: contentType});</code>
<code>  return blob;</code>
<code>}</code>
                </div>
            </div>
            <div class="sectionDisplay" id="socket">
                <h4>Socket Function</h4>
                <p><b>Method 1</b></p>
                <p><a href="socket.php" download>Download Me</a></p>
                <p>First, include socket.php in the page you need apply socket function</p>
                <div class="codeBlock">
<code>&lt;?php include 'socket.php' ?&gt;</code>
                </div>
                <p class="nextMethod">Second, declare a variable to get socket url from config file</p>
                <div class="codeBlock">
<code>var socket = '&lt;?php echo $config['socketUrl'];?&gt;';</code>
                </div>
                <p class="nextMethod">Third, use this function to grab socket data</p>
                <div class="codeBlock">
<code>var conn = new ab.Session(socket,     </code>
<code>function() {</code>
<code>        conn.subscribe('<span contenteditable="true">binanceBTC1m</span>', function(topic, data) {</code>
<code>        	// your code here</code>
<code>        });</code>
<code>    },</code>
<code>    function() {</code>
<code>        console.warn('WebSocket connection closed');</code>
<code>    },</code>
<code>    {'skipSubprotocolCheck': true}</code>
<code>);</code>
                </div>
                <p class="nextMethod"><b>Method 2</b></p>
                <p><a href="socket.io.js" download>Download Me</a></p>
                <p>Include socket.io.js in the page you need apply socket function</p>
                <p class="text-danger">** If all page need should include in sharejs</p>
                <div class="codeBlock">
<code>&lt;script src="js/socket.io.js"&gt;&lt;/script&gt;</code>
                </div>
                <p class="nextMethod">Declare socket</p>
                <div class="codeBlock">
<code>var socket = io("&lt;?php echo $config['socketUrl'];?&gt;",{secure:true});</code>
<code>var socketChannel = '<span contenteditable="true">channelName</span>';</code>
                </div>
                <p class="nextMethod">Connect to socket channel</p>
                <div class="codeBlock">
<code>socket.emit("subscribe", socketChannel);</code>
                </div>
                <p class="nextMethod">To get socket data</p>
                <div class="codeBlock">
<code>socket.on('chat', function(data) {</code>
<code>    //code here</code>
<code>});</code>
                </div>
                <p class="nextMethod">Pass data to socket</p>
                <div class="codeBlock">
<code>var passData = {</code>
<code>    <span contenteditable="true">username</span> : <span contenteditable="true">"test"</span></code>
<code>};</code>
<code>passData = JSON.stringify(passData);</code>
<code>socket.emit("chat", socketChannel, passData);</code>
                </div>
                <p class="nextMethod">Disconnect channel before leave page</p>
                <div class="codeBlock">
<code>window.addEventListener('unload', function(event) {</code>
<code>    socket.emit("unsubscribe", socketChannel);</code>
<code>});</code>
                </div>
            </div>
            <div class="sectionDisplay" id="json">
                <h4>JSON Function</h4>
                <p>First method</p>
                <div class="codeBlock">
<code>$.getJSON("<span contenteditable="true">filename</span>", function(data) {</code>
<code>  // your code</code>
<code>});</code>
                </div>
                <p class="nextMethod">Second method</p>
                <div class="codeBlock">
<code>$.ajax({</code>
<code>  url: "<span contenteditable="true">filename</span>",</code>
<code>  dataType: 'json',</code>
<code>  success: function(data) {</code>
<code>    // your code</code>
<code>  }</code>
<code>});</code>
                </div>
            </div>
            <div class="sectionDisplay" id="applyMaintenance">
                <h4>Apply Maintenance</h4>
                <p><a href="applyMaintenance.zip" download>Download Me</a></p>
                <ol>
                    <li>Replace class.general.php with the class.general.php that in this folder (member/include)</li>
                    <li>All before login page
                        <ul>
                            <li>Login</li>
                            <li>Public Registration</li>
                            <li>Reset Password</li>
                        </ul>
                        add below code after include head.php
                    </li>
                    <li>Duplicate maintenance.php to your member folder, tune maintenance page design using login.css</li>
                    <li>config.php add maintenance datetime</li>
                </ol>
                <p class="nextMethod">Code to apply after include head.php in before login page</p>
                <div class="codeBlock">
<code>&lt;?php</code>
<code>    $maintenance = General::checkMaintenance();</code>
<br>
<code>    if($maintenance){</code>
<code>        echo '&lt;script&gt;window.location.href="maintenance.php";&lt;/script&gt;';</code>
<code>        exit();</code>
<code>    }</code>
<code>?&gt;</code>
                </div>
                <p class="nextMethod">Config file maintenance datetime format</p>
                <div class="codeBlock">
<code>"startTs" => "2021-07-09 00:00:00",</code>
<code>"endTs" => "2021-07-09 19:13:00"</code>
                </div>
            </div>
            <div class="sectionDisplay" id="numberThousand">
                <h4>Number Thousand</h4>
                <p>Add comma to number</p>
                <p>Example: call numberThousand(100000.0800); will get 100,000.0800 (String)</p>
                <div class="codeBlock">
<code>function numberThousand(num, dec, round) {</code>
<code>    if(round) {</code>
<code>        num = parseFloat(num);</code>
<code>        num.toFixed(dec);</code>
<code>    }</code>
<code>    num += '';</code>
<code>    var splitNumber = num.split('.');</code>
<code>    var firstNumber = splitNumber[0];</code>
<code>    var rgx = /(\d+)(\d{3})/;</code>
<code>    while (rgx.test(firstNumber)) {</code>
<code>        firstNumber = firstNumber.replace(rgx, '$1' + ',' + '$2');</code>
<code>    }</code>
<code>    if (splitNumber[1]) {</code>
<code>        var secondNumber = splitNumber[1];</code>
<code>        if(!dec && dec!=0) {</code>
<code>            dec = secondNumber.length;</code>
<code>        }</code>
<code>    } else {</code>
<code>        var secondNumber = "00000000";</code>
<code>    }</code>
<code>    if(!dec) {</code>
<code>        dec=0;</code>
<code>    }</code>
<code>    var splitSecondNumber = (""+secondNumber).split("");</code>
<code>    if (splitSecondNumber.length < dec) {</code>
<code>        for (var i = splitNumber[1].length; i < dec; i++) {</code>
<code>            splitSecondNumber.push("0");</code>
<code>        }</code>
<code>    }</code>
<code>    var decimalNumber = [];</code>
<code>    $.each(splitSecondNumber, function(k,v){</code>
<code>        if (k < dec) {</code>
<code>            var pushTheNumber = v;</code>
<code>            decimalNumber.push(pushTheNumber);</code>
<code>        }</code>
<code>    });</code>
<code>    var joinSecondNumber = decimalNumber.join("");</code>
<code>    if (dec == 0) {</code>
<code>        var actualNumber = firstNumber;</code>
<code>    } else {</code>
<code>        var actualNumber = firstNumber + "." + joinSecondNumber;</code>
<code>    }</code>
<code>    return actualNumber;</code>
<code>}</code>
                </div>
                <p class="nextMethod">Remove comma from number</p>
                <p>Example: call removeComma('100,000.0800'); will get 100000.08 (Float)</p>
                <div class="codeBlock">
<code>function removeComma(num) {</code>
<code>  var removed = num.replaceAll(",", "");</code>
<code>  var res = parseFloat(removed);</code>
<br>
<code>  return res;</code>
<code>}</code>
                </div>
            </div>
            <div class="sectionDisplay" id="arrayFunction">
                <h4>Array / Object Function</h4>
                <div>
                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#buildArray">Build Array</button>
                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#buildObject">Build Object</button>
                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#buildObjectArray">Build Object Array</button>
                    <button type="button" class="btn btn-success" data-toggle="modal" data-target="#buildHtmlFromArray">Build HTML From Array</button>
                </div>
                <p>Method 1: Foreach Loop</p>
                <p>This method will loop from first array / object item to last</p>
                <div class="codeBlock">
<code>$.each(<span contenteditable="true">data['list']</span>, function(k,v){</code>
<code>	// Your Code here</code>
<code>});</code>
                </div>
                <p class="nextMethod">Method 2: For Loop</p>
                <div class="codeBlock">
<code>for(var i = 0; i < <span contenteditable="true">data['list'].length</span>; i++) {</code>
<code>	// Your code here</code>
<code>}</code>
                </div>
                <p class="nextMethod">Filter Array based on object array properties</p>
                <div class="codeBlock">
<code>var filteredArr = (data.<span contenteditable="true">listing</span>).filter((item) => item.<span contenteditable="true">id</span> == <span contenteditable="true">id</span> )</code>
                </div>
                <p class="nextMethod">Get all keys of object</p>
                <div class="codeBlock">
<code>Object.keys(<span contenteditable="true">object</span>);</code>
                </div>
                <p>To get the first key from Object: Object.keys(object)[0];</p>
            </div>
            <div class="sectionDisplay" id="numericInp">
                <h4>Apply Numeric Input</h4>
                <p>Add this to your input html (remove the dot if not allow decimal)</p>
                <div class="codeBlock">
<code>oninput="this.value = this.value.replace(/[^0-9<span contenteditable="true">.</span>]/g, '').replace(/(\..*)\./g, '$1');"</code>
                </div>
                <p class="nextMethod">Limit decimal for numeric input</p>
                <div class="codeBlock">
<code>oninput="this.value = this.value.match(/^[0-9]+\.?[0-9]{0,<span contenteditable="true">2</span>}/);"</code>
                </div>
            </div>
            <div class="sectionDisplay" id="conditionalStatement">
                <h4>Conditional Statement</h4>
                <p>if else and else if</p>
                <div class="codeBlock">
<code>if (condition1) {</code>
<code>  //  block of code to be executed if condition1 is true</code>
<code>} else if (condition2) {</code>
<code>  //  block of code to be executed if the condition1 is false and condition2 is true</code>
<code>} else {</code>
<code>  //  block of code to be executed if the condition1 is false and condition2 is false</code>
<code>}</code>
                </div>
                <p class="nextMethod">Switch</p>
                <div class="codeBlock">
<code>switch(num) {</code>
<code>  case 0: // code block if (num == 0) will run this function</code>
<code>    break;</code>
<code>  case 1: // code block if (num == 1) will run this function</code>
<code>    break;</code>
<code>  case 2: // code block if (num == 2) will run this function</code>
<code>    break;</code>
<code>  case 3: // code block if (num == 3) will run this function</code>
<code>    break;</code>
<code>  case 4: // code block if (num == 4) will run this function</code>
<code>    break;</code>
<code>  default: // if not fullfil specific expression will run this function</code>
<code>}</code>
                </div>
                <p class="nextMethod">Single line conditional</p>
                <p>Format: syntax?true:false</p>
                <div class="codeBlock">
<code>var result = <span contenteditable="true">num==20</span>?"yes":"no";</code>
                </div>
                <p>If num equal to 20, result = "yes" else result = "no"</p>
            </div>
            <div class="sectionDisplay" id="dateFunc">
                <h4>Date Time Function</h4>
                <p>To change date to timestamp format</p>
                <p class="text-danger">** Date should in DD/MM/YYYY format</p>
                <div class="codeBlock">
<code>var getDate = $("<span contenteditable="true">#getDate</span>").val();</code>
<code>getDate = getDate==""?"":dateToTimestamp(getDate);</code>
                </div>
                <p class="nextMethod">Count down timer based on backend timestamp</p>
                <div class="codeBlock">
<code>var endTime = timestamp * 1000;</code>
<code>var now = new Date().getTime();</code>
<code>var distance = endTime - now;</code>
<code></code>
<code>var x = setInterval(function() {</code>
<code>	var days = Math.floor(distance / (1000 * 60 * 60 * 24));</code>
<code>	var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));</code>
<code>	var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));</code>
<code>	var seconds = Math.floor((distance % (1000 * 60)) / 1000);</code>
<code></code>
<code>	if(hours < 10){</code>
<code>		hours = '0'+hours;</code>
<code>	}</code>
<code>	if(minutes < 10){</code>
<code>		minutes = '0'+minutes;</code>
<code>	}</code>
<code>	if(seconds < 10){</code>
<code>		seconds = '0'+seconds;</code>
<code>	}</code>
<code></code>
<code>	$('<span contenteditable="true">#countDown</span>').text(hours + ":"+ minutes + ":" + seconds);</code>
<code></code>
<code>	distance -= 1;</code>
<code></code>
<code>	if (distance < 0) {</code>
<code>		clearInterval(x);</code>
<code>		// countdown end</code>
<code>	}</code>
<code>}, 1000);</code>
                </div>
            </div>
            <div class="sectionDisplay" id="setCookie">
                <h4>Set Cookie</h4>
                <p>regLogin.php</p>
                <p>In login API, after set all session</p>
                <div class="codeBlock">
<code>setcookie("<span contenteditable="true">sessionData</span>", json_encode($_SESSION));</code>
                </div>
                <p class="nextMethod">When post type = "logout"</p>
                <div class="codeBlock">
<code>setcookie("<span contenteditable="true">sessionData</span>", "", time() - 3600);</code>
                </div>
                <p class="nextMethod">Payment Success page</p>
                <p>Before include sharejs</p>
                <div class="codeBlock">
<code>&lt;?php</code>
<code>  if(isset($_COOKIE['<span contenteditable="true">sessionData</span>'])) {</code>
<code>      $<span contenteditable="true">sessionData</span> = json_decode($_COOKIE['<span contenteditable="true">sessionData</span>']);</code>
<code>      foreach($<span contenteditable="true">sessionData</span> as $sdata => $svalue) {</code>
<code>          if ($sdata != "language") {</code>
<code>              $_SESSION[$sdata] = $svalue;</code>
<code>          }</code>
<code>      }</code>
<code>      $_SESSION["sessionTimeOut"] = time();</code>
<code>  }</code>
<code>?&gt;</code>
                </div>
            </div>
            <div class="sectionDisplay" id="submitForm">
                <h4>Submit form and link to payment gateway</h4>
                <p>If not working should test on test site</p>
                <div class="codeBlock">
<code>var temp = `</code>
<code>    &lt;form action="<span contenteditable="true">scripts/reqFundIn.php</span>" method="post" id="submitForm"&gt;</code>
<code>        &lt;input type="hidden" name="<span contenteditable="true">value1</span>" value="${<span contenteditable="true">content1</span>}" /&gt;</code>
<code>        &lt;input type="hidden" name="<span contenteditable="true">value2</span>" value="${<span contenteditable="true">content2</span>}" /&gt;</code>
<code>    &lt;/form&gt;`;</code>
<code>$("body").append(temp);</code>
<code>$("#submitForm").submit();</code>
<code>$temp.remove();</code>
                </div>
            </div>
            <div class="sectionDisplay" id="stayLogin">
                <h4>Stay login Function</h4>
                <p>reqDefault.php</p>
                <p>Add this to all api after $result = $post->curl($command, $params);</p>
                <div class="codeBlock">
<code>$result = json_decode($result, true);</code>
<code>if ($result['sessionData']['newSessionID']) {</code>
<code>	$_SESSION["sessionID"] = $result['sessionData']['newSessionID'];</code>
<code>	$_SESSION["sessionExpireTime"] = $result['sessionData']['timeOut'];</code>
<code>} </code>
<code>if ($result["code"] == 5 || $result["code"] == 3){</code>
<code>	setcookie("<span contenteditable="true">marcajeData</span>", "", time() - 3600, "/",NULL,TRUE,TRUE);</code>
<code>}</code>
<code>$result = json_encode($result);</code>
                </div>
                <p class="nextMethod">reqLogin.php</p>
                <p>MemberLogin api</p>
                <div class="codeBlock">
<code>$marcaje      = $result['data']['marcaje'];</code>
<code>$marcajeTK    = $result['data']['marcajeTK'];</code>
<code>$expiredTS    = $result['data']['expiredTS'];</code>

<code>$_SESSION["marcaje"] = $marcaje;</code>
<code>$_SESSION["marcajeTK"] = $marcajeTK;</code>
<code>$_SESSION["expiredTS"] = $expiredTS;</code>

<code>if($result['data']['marcaje'] && $result['data']['marcajeTK']){</code>
<code>  $setlogincookie = array(</code>
<code>    'marcaje' => $marcaje,</code>
<code>    'marcajeTK' => $marcajeTK</code>
<code>  );</code>

<code>  setcookie("<span contenteditable="true">marcajeData</span>", json_encode($setlogincookie), $expiredTS,"/",NULL,TRUE,TRUE);</code>
<code>} else {</code>
<code>	setcookie("<span contenteditable="true">marcajeData</span>", "", time() - 3600, "/",NULL,TRUE,TRUE);</code>
<code>}</code>

<code>if ($result["code"] == 5 || $result["code"] == 3){</code>
<code>  setcookie("<span contenteditable="true">marcajeData</span>", "", time() - 3600, "/",NULL,TRUE,TRUE);</code>
<code>}</code>
                </div>
                <p class="nextMethod">$_POST['type'] == "logout"</p>
                <p>in this condition add clear stay login cookie</p>
                <div class="codeBlock">
<code>if ($result["code"] == 5 || $result["code"] == 3){</code>
<code>  setcookie("<span contenteditable="true">marcajeData</span>", "", time() - 3600, "/",NULL,TRUE,TRUE);</code>
<code>}</code>
                </div>
                <p class="nextMethod">general.js</p>
                <p>error handler add new code straight redirect login.php</p>
                <div class="codeBlock">
<code>case 5:</code>
<code>	window.location.href = 'login.php';</code>
<code>	break;</code>
                </div>
                <p class="nextMethod">sharejs.php</p>
                <p>When session id == "", should straight redirect to login page instead of pop up no permission modal.</p>
                <div class="codeBlock">
<code>if(sessionID == '') {</code>
<code>	// No access token, thus don't allow to call backend</code>
<code>	window.ajaxEnabled = false;</code>
<code>	window.location.href = "login.php";</code>
<code>	return true;</code>
<code>}</code>
                </div>
            </div>
        </div>
    </div>
    <a href="#" class="backToTop"><i class="fa fa-arrow-up"></i></a>

    <div class="modal fade" id="buildArray">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Build Array</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <p>Sample Data Result</p>
                <div class="codeBlock">
<code>object = [</code>
<code>  '1',</code>
<code>  '2',</code>
<code>  '3',</code>
<code>  '4',</code>
<code>  '5'</code>
<code>];</code>
                </div>
                <p class="nextMethod">HTML should build like this</p>
                <div class="codeBlock">
<code>&lt;input class="inp form-control" value=""&gt;</code>
<code>&lt;input class="inp form-control" value=""&gt;</code>
<code>&lt;input class="inp form-control" value=""&gt;</code>
<code>&lt;input class="inp form-control" value=""&gt;</code>
<code>&lt;input class="inp form-control" value=""&gt;</code>
                </div>
                <p class="nextMethod">Function</p>
                <div class="codeBlock">
<code>var object = [];</code>
<br>
<code>$.each(<span contenteditable="true">$(".inp")</span>, function(k,v){</code>
<code>  var value = $(v).val();</code>
<code>  object.push(value);</code>
<code>});</code>
                </div>
            </div>
          </div>
        </div>
    </div>

    <div class="modal fade" id="buildObject">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Build Object</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <p>Sample Data Result</p>
                <div class="codeBlock">
<code>object = {</code>
<code>  dataKey1: value1,</code>
<code>  dataKey2: value2,</code>
<code>  dataKey3: value3,</code>
<code>  dataKey4: value4,</code>
<code>  dataKey5: value5</code>
<code>}</code>
                </div>
                <p class="nextMethod">HTML should build like this</p>
                <div class="codeBlock">
<code>&lt;input class="inp form-control" data-key="dataKey1" value=""&gt;</code>
<code>&lt;input class="inp form-control" data-key="dataKey2" value=""&gt;</code>
<code>&lt;input class="inp form-control" data-key="dataKey3" value=""&gt;</code>
<code>&lt;input class="inp form-control" data-key="dataKey4" value=""&gt;</code>
<code>&lt;input class="inp form-control" data-key="dataKey5" value=""&gt;</code>
                </div>
                <p class="nextMethod">JS</p>
                <div class="codeBlock">
<code>var object = {};</code>
<br>
<code>$.each(<span contenteditable="true">$(".inp")</span>, function(k,v){</code>
<code>  var dataKey = $(v).attr("data-key");</code>
<code>  var value = $(v).val();</code>
<br>
<code>  object[dataKey] = value;</code>
<code>});</code>
                </div>
            </div>
          </div>
        </div>
    </div>

    <div class="modal fade" id="buildObjectArray">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Build Object Array</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <p>Sample Data Result</p>
                <div class="codeBlock">
<code>object = [</code>
<code>  {type: "dataKey1", content: "value1"},</code>
<code>  {type: "dataKey2", content: "value2"},</code>
<code>  {type: "dataKey3", content: "value3"},</code>
<code>  {type: "dataKey4", content: "value4"},</code>
<code>  {type: "dataKey5", content: "value5"},</code>
<code>]</code>
                </div>
                <p class="nextMethod">HTML should build like this</p>
                <div class="codeBlock">
<code>&lt;input class="inp form-control" data-key="dataKey1" value=""&gt;</code>
<code>&lt;input class="inp form-control" data-key="dataKey2" value=""&gt;</code>
<code>&lt;input class="inp form-control" data-key="dataKey3" value=""&gt;</code>
<code>&lt;input class="inp form-control" data-key="dataKey4" value=""&gt;</code>
<code>&lt;input class="inp form-control" data-key="dataKey5" value=""&gt;</code>
                </div>
                <p class="nextMethod">JS</p>
                <div class="codeBlock">
<code>var object = [];</code>
<br>
<code>$.each(<span contenteditable="true">$(".inp")</span>, function(k,v){</code>
<code>  var dataKey = $(v).attr("data-key");</code>
<code>  var value = $(v).val();</code>
<br>
<code>  object.push({</code>
<code>    type: dataKey,</code>
<code>    content: value</code>
<code>  });</code>
<code>});</code>
                </div>
            </div>
          </div>
        </div>
    </div>

    <div class="modal fade" id="buildHtmlFromArray">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Build Html From Array</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <p>Sample Data Result</p>
                <div class="codeBlock">
<code>&lt;div id="appendHtml"&gt;</code>
<code>  &lt;div&gt;Display 1&lt;/div&gt;</code>
<code>  &lt;div&gt;Display 2&lt;/div&gt;</code>
<code>  &lt;div&gt;Display 3&lt;/div&gt;</code>
<code>  &lt;div&gt;Display 4&lt;/div&gt;</code>
<code>  &lt;div&gt;Display 5&lt;/div&gt;</code>
<code>&lt;/div&gt;</code>
                </div>
                <p class="nextMethod">HTML should build like this</p>
                <div class="codeBlock">
<code>&lt;div id="appendHtml"&gt;&lt;/div&gt;</code>
                </div>
                <p class="nextMethod">JS</p>
                <div class="codeBlock">
<code>var html = "";</code>
<br>
<code>$.each(data['result'], function(k,v){</code>
<code>    html += `</code>
<code>      &lt;div&gt;${v['display']}&lt;/div&gt;</code>
<code>    `;</code>
<code>});</code>
<br>
<code>$("#appendHtml").html(html);</code>
                </div>
            </div>
          </div>
        </div>
    </div>

    <div class="modal fade" id="sshKeyModal">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">How to get your SSH Key</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <ol>
                    <li>open git bash</li>
                    <li>type "ssh-keygen"
                        <ol>
                            <li>will ask u save sshkey at whr, press enter</li>
                            <li>type password</li>
                            <li>retype password</li>
                            <li>done</li>
                        </ol>
                    </li>
                    <li>type "cat .ssh/id_rsa.pub", get your ssh key</li>
                </ol>
            </div>
          </div>
        </div>
    </div>

    <div class="modal fade" id="removeExtension">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Remove PHP extension but still working on local</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <!-- Modal body -->
            <div class="modal-body">
                <ol>
                    <li>Open your C:\Apache24\conf\httpd.conf</li>
                    <li>Search this line
                        <ul>
                            <li>#LoadModule rewrite_module modules/mod_rewrite.so</li>
                        </ul>
                    </li>
                    <li>Remove the # at the front of this line</li>
                    <li>Move this .htaccess (<a href="htaccess.zip" download>Download</a>) to 
                        <ul>
                            <li>C:\Apache24\htdocs ( Windows )</li>
                            <li>~/Sites/ ( Mac )</li>
                        </ul>
                    </li>
                    <li>Restart Apache</li>
                    <li>try to access any project and remove file extension</li>
                </ol>

                <span class="text-danger">*** file with extension like homepage.php should be working too de</span>
            </div>
          </div>
        </div>
    </div>

    <div class="passwordBlock" id="passwordBlock">
        <div class="passwordWrap">
            <input type="password" id="password" class="form-control" placeholder="Password">
            <button id="submit" type="button" class="btn btn-success ml-1"><i class="fa fa-arrow-right"></i></button>
        </div>
    </div>
</body>
</html>